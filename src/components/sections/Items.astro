---
/**
 * レンタル用具カテゴリ グリッドセクション
 */
import { getRentalCategoryList } from '../../lib/microcms';

const { contents: categories } = await getRentalCategoryList({ orders: 'order' });

const items = categories.map((cat) => ({
  href: `/rental/${cat.slug}`,
  imgSrc: cat.image?.url ?? '/images/cat/cat1.png',
  imgAlt: cat.name,
  name: cat.name,
}));
---

<section class="section items-section">
  <div class="container">
    <div class="items-header">
      <div>
        <span class="section-label">Rental Items</span>
        <h2 class="items-title">レンタル用具カテゴリ</h2>
      </div>
      <a href="/rental" class="btn-see-all">
        すべて見る
        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z" />
        </svg>
      </a>
    </div>

    <div class="items-grid">
      {items.map((item) => (
        <a href={item.href} class="item-card fade-up">
          <img src={item.imgSrc} alt={item.imgAlt} class="item-cat-img" loading="lazy" />
          <p class="item-card-name">{item.name}</p>
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  .items-section { background: var(--color-bg2); }

  .items-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 36px;
  }

  .items-title {
    font-family: var(--font-serif);
    font-size: clamp(20px, 2.5vw, 30px);
    color: var(--color-primary);
    line-height: 1.2;
  }

  .items-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 14px;
  }

  .item-card {
    background: white;
    border-radius: var(--radius-md);
    padding: 24px 14px 20px;
    text-align: center;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--color-border);
    transition: var(--transition-base);
    cursor: pointer;
  }

  .item-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-accent);
  }

  .item-cat-img {
    width: 100%;
    height: 72px;
    object-fit: contain;
    margin: 0 auto 14px;
  }

  .item-card-name {
    font-size: 12px;
    color: var(--color-text-mid);
    line-height: 1.5;
  }

  .item-card.more {
    background: var(--color-primary);
    border-color: transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
  }

  .item-card.more .item-card-name {
    color: rgba(255, 255, 255, 0.8);
  }

  .btn-see-all {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--color-primary);
    border: 1.5px solid var(--color-primary);
    padding: 10px 22px;
    border-radius: var(--radius-sm);
    transition: var(--transition-base);
    letter-spacing: 0.04em;
    flex-shrink: 0;
  }

  .btn-see-all:hover { background: rgba(0, 32, 96, 0.05); }

  /* === Responsive === */
  @media (max-width: 1024px) {
    .items-grid { grid-template-columns: repeat(3, 1fr); }
  }

  @media (max-width: 640px) {
    .items-grid { grid-template-columns: repeat(2, 1fr); }
    .items-header { flex-direction: column; align-items: flex-start; gap: 16px; }
  }
</style>
