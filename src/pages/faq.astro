---
/**
 * よくある質問ページ
 * アコーディオン形式（details/summary でJS不要）
 * 将来的にmicroCMS連携可能な構造
 */
import BaseLayout from '../layouts/BaseLayout.astro';

interface FaqItem {
  question: string;
  answer: string;
}

interface FaqCategory {
  title: string;
  items: FaqItem[];
}

const faqCategories: FaqCategory[] = [
  {
    title: '介護サービス',
    items: [
      {
        question: '介護保険の対象者について教えてください。',
        answer: '第1号被保険者（65歳以上）と第2号被保険者（40〜64歳で医療保険加入者）が対象です。第1号は「寝たきりや認知症など常に介護を必要とする状態」または「家事や身支度など日常生活に支援が必要な状態」の方が該当します。第2号は「初期認知症・脳血管疾患など老化が原因とされる16疾病により要介護状態や要支援状態となった」場合が対象です。',
      },
      {
        question: '介護認定を受けていないのですがレンタルできますか？',
        answer: '全額自己負担としてレンタル可能です。介護保険を利用する場合は、市区町村窓口で介護認定の申請が必要です。認定を受けた場合は申請日にさかのぼって介護保険のサービスを受けることができます。自立認定の場合は保険サービスの対象外となります。',
      },
      {
        question: '介護保険の利用手続きの流れを教えてください。',
        answer: '①要介護認定申請 → ②認定訪問調査・主治医意見書 → ③審査判定認定（原則30日以内）→ ④介護サービス計画書作成 → ⑤サービス利用開始、の5段階です。',
      },
      {
        question: 'サービス内容について教えてください。',
        answer: '居宅サービス（訪問介護、入浴介護、看護、リハビリ等）、施設サービス（特別養護老人ホーム等）、地域密着型サービス（小規模多機能型居宅介護等）があります。',
      },
    ],
  },
  {
    title: '福祉用具レンタル',
    items: [
      {
        question: '商品が壊れた場合どうしたらいいですか？',
        answer: '弊社まで速やかにご連絡ください。無償修理・交換を実施いたします。ただし、説明に反した使用や部品紛失の場合は利用者様のご負担となる場合があります。',
      },
      {
        question: 'お試し利用できますか？',
        answer: '数々のラインナップの中からお試しいただけます。身体に合った用具をお選びいただくためにも、お試し利用を推奨しています。',
      },
      {
        question: '入院先でも使えますか？',
        answer: '介護保険の適用は在宅利用が条件となるため、入院先での使用は全額実費負担となります。',
      },
      {
        question: '入院中の請求はどうなりますか？',
        answer: '入院中は請求をストップいたします。短期入所の場合は商品をそのままご自宅に置いておけます。長期入所の場合はご相談のうえ対応いたします。',
      },
      {
        question: '途中でレンタル商品を変更したい場合はどうすればいいですか？',
        answer: '弊社にご連絡ください。身体状況や生活環境の変化に応じて、適切な商品への変更をサポートいたします。',
      },
      {
        question: '介護以外でも利用できますか？',
        answer: 'ご利用可能ですが、介護保険の適用外となるため、料金は全額自己負担となります。',
      },
    ],
  },
  {
    title: '福祉用具販売',
    items: [
      {
        question: '購入前にお試しできますか？',
        answer: 'できる商品とできない商品がございます。シャワーイス・浴槽手すり・浴槽台などはいつでもお試しいただけます。',
      },
      {
        question: '同じものを再購入できますか？',
        answer: '原則できません。ただし介護度の大幅な変化や破損の場合は再購入が可能です。市町村への再申請が必要となります。',
      },
      {
        question: '医療機器は販売していますか？',
        answer: '高度管理医療機器の資格を取得しております。ただし、お取扱いできない商品もございますのでご相談ください。',
      },
      {
        question: 'レンタル品を途中で購入できますか？',
        answer: 'レンタル品の販売はできません。ご購入の場合は新品をご用意いたします。',
      },
    ],
  },
  {
    title: '住宅改修',
    items: [
      {
        question: '介護保険申請に必要な書類は何ですか？',
        answer: '住宅改修費支給事前申請書、内訳書、理由書、改修前の日付入り写真、承諾書が必要です。工事前に事前申請が必須となります。',
      },
      {
        question: '一時的な住所での改修工事はできますか？',
        answer: '被保険者証に記載された住所のみが対象となります。住民票の移動なしではご利用いただけません。',
      },
      {
        question: '既存の手すり交換は給付対象ですか？',
        answer: '老朽化のみでは対象外ですが、高さが合わない・握れないなどの不具合がある場合は対象となります。撤去費も給付に含まれます。',
      },
      {
        question: '入院中に改修工事はできますか？',
        answer: '退院が決定しており、在宅復帰後のスムーズな生活が見込める場合は、市町村に確認のうえ工事が可能です。ただし退院できなかった場合は申請できません。',
      },
      {
        question: '回数の制限はありますか？',
        answer: '回数制限はありません。利用者1名・現住居につき20万円までが上限となります。給付上限額制であり、回数制ではありません。',
      },
    ],
  },
];
---

<BaseLayout
  title="よくある質問 | 株式会社後藤 福祉事業部 つなぐ"
  description="福祉用具レンタル・販売・住宅改修に関するよくある質問をまとめました。"
>
  <main>
    <div class="page-header">
      <div class="container">
        <span class="section-label">FAQ</span>
        <h1 class="page-title">よくある質問</h1>
        <p class="page-desc">お客様からよくいただくご質問をまとめました。</p>
      </div>
    </div>

    <div class="section">
      <div class="container narrow">
        {faqCategories.map((cat) => (
          <div class="faq-category">
            <h2 class="faq-category-title">{cat.title}</h2>
            <div class="faq-list">
              {cat.items.map((item) => (
                <details class="faq-item">
                  <summary class="faq-question">
                    <span class="faq-q-mark" aria-hidden="true">Q</span>
                    <span>{item.question}</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                      <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z" />
                    </svg>
                  </summary>
                  <div class="faq-answer">
                    <span class="faq-a-mark" aria-hidden="true">A</span>
                    <p>{item.answer}</p>
                  </div>
                </details>
              ))}
            </div>
          </div>
        ))}

        <div class="faq-contact">
          <p>
            上記以外のご質問やご不明点がございましたら、<br />
            お気軽にお問い合わせください。
          </p>
          <a href="/contact" class="btn-contact">
            お問い合わせ
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </main>
</BaseLayout>

<style>
  .page-header {
    padding: 120px 32px 56px;
    background: var(--color-primary);
  }

  .page-title {
    font-family: var(--font-serif);
    font-size: clamp(30px, 4vw, 48px);
    color: white;
    margin-bottom: 8px;
  }

  .page-desc { font-size: 14px; color: rgba(255, 255, 255, 0.6); }
  .page-header :global(.section-label) { color: var(--color-accent); }
  .narrow { max-width: 800px; margin: 0 auto; }

  /* === Category === */
  .faq-category { margin-bottom: 48px; }
  .faq-category:last-child { margin-bottom: 0; }

  .faq-category-title {
    font-family: var(--font-serif-jp);
    font-size: 18px;
    font-weight: 400;
    color: var(--color-primary);
    padding-bottom: 12px;
    border-bottom: 2px solid var(--color-accent);
    margin-bottom: 0;
  }

  /* === Item === */
  .faq-item {
    border-bottom: 1px solid var(--color-border);
  }

  .faq-question {
    display: flex;
    align-items: flex-start;
    gap: 14px;
    padding: 20px 0;
    cursor: pointer;
    list-style: none;
    font-size: 14px;
    color: var(--color-text);
    line-height: 1.7;
    transition: var(--transition-base);
  }

  .faq-question::-webkit-details-marker { display: none; }
  .faq-question::marker { display: none; content: ''; }

  .faq-question:hover { color: var(--color-primary); }

  .faq-q-mark {
    width: 28px; height: 28px;
    background: var(--color-primary);
    color: white;
    border-radius: 50%;
    font-family: var(--font-serif);
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .faq-chevron {
    margin-left: auto;
    flex-shrink: 0;
    color: var(--color-text-lt);
    transition: transform 0.3s ease;
  }

  details[open] .faq-chevron { transform: rotate(180deg); }

  .faq-answer {
    display: flex;
    align-items: flex-start;
    gap: 14px;
    padding: 0 0 24px;
    margin-left: 0;
  }

  .faq-a-mark {
    width: 28px; height: 28px;
    background: var(--color-accent);
    color: white;
    border-radius: 50%;
    font-family: var(--font-serif);
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .faq-answer p {
    font-size: 14px;
    color: var(--color-text-mid);
    line-height: 1.9;
    padding-top: 4px;
  }

  /* === Contact === */
  .faq-contact {
    margin-top: 56px;
    text-align: center;
    background: var(--color-accent-lt);
    border-radius: var(--radius-md);
    padding: 40px 32px;
  }

  .faq-contact p {
    font-size: 14px;
    color: var(--color-text-mid);
    line-height: 1.8;
    margin-bottom: 24px;
  }

  .btn-contact {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--color-primary);
    color: white;
    padding: 14px 32px;
    border-radius: var(--radius-sm);
    font-size: 14px;
    transition: var(--transition-base);
  }

  .btn-contact:hover {
    background: var(--color-primary-lt);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }

  @media (max-width: 640px) {
    .page-header { padding: 100px 16px 40px; }
    .faq-contact { padding: 28px 20px; }
  }
</style>
